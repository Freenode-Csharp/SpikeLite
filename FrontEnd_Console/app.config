<?xml version="1.0" encoding="utf-8" ?>

<!--
  SpikeLite C# IRC Bot
  Copyright (c) 2008 FreeNode ##Csharp Community

  This source is licensed under the terms of the MIT license. Please see the 
  distributed license.txt for details.
-->
<configuration>
  <configSections>
    <section name="spikeLite" type="SpikeLite.Configuration.SpikeLiteSection, SpikeLite" requirePermission="false"/>
    <sectionGroup name="spring">
      <section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core"/>
    </sectionGroup>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
    <sectionGroup name="common">
      <section name="logging" type="Common.Logging.ConfigurationSectionHandler, Common.Logging" />
    </sectionGroup>
  </configSections>

  <!-- Bot Parameters -->
  <spikeLite>
    <networks>
      <network networkName="FreeNode" botNickname="SpikeLite" botRealName="##CSharp irc bot." botUserName="SpikeLite" nickServPassword="PASSWORD">
        <servers>
          <server hostnameOrIP="127.0.0.1" port="6667"/>
        </servers>
        <channels>
          <channel name="#kog"/>
        </channels>
      </network>
    </networks>
    <licenses>
      <license applicationName="googleSoapApi" key="API KEY OF DOOM"/>
      <license applicationName="liveAppID" key="API KEY OF DOOM"/>
    </licenses>
  </spikeLite>

  <!-- Spring.NET beans - these can get verbose, so they're in their own file. -->
  <spring>
    <context>
      <resource uri="file://beans.xml"/>
    </context>
  </spring>

  <log4net>
    <!-- A non-appending (IE it deletes the old file) file based log appender. Fresh logs, or your money back. -->
    <appender name="DefaultFileBasedLogger" type="log4net.Appender.FileAppender">
      <file value="spikelite.log" />
      <appendToFile value="false" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %logger - %message%newline" />
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="INFO" />
        <levelMax value="ERROR" />
      </filter>
    </appender>

    <!-- Console based logger for raw IO notices. -->
    <appender name="PlainConsoleAppender" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date [%thread] %-5level %logger [%property{NDC}] - %message%newline" />
      </layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <levelMin value="DEBUG" />
        <levelMax value="DEBUG" />
      </filter>
    </appender>

    <!-- We've overriden the default WARN with INFO. For DEBUG level you should add another appender, or
         alter this node. SpikeLite.SpikeLite has a special colored console appender. -->
    <root>
      <level value="INFO" />
      <appender-ref ref="DefaultFileBasedLogger" />
      <appender-ref ref="PlainConsoleAppender"/>
    </root>

    <!-- Set SpikeLite.SpikeLite to log to both console and file based appenders. Our debug info will wind up
         on our console though. -->
    <logger name="SpikeLite.SpikeLite">
      <level value="DEBUG" />
    </logger>
  </log4net>

  <common>
    <logging>
      <factoryAdapter type="Common.Logging.Log4Net.Log4NetLoggerFactoryAdapter, Common.Logging.Log4Net">
        <arg key="configType" value="INLINE" />
      </factoryAdapter>
    </logging>
  </common>
</configuration>
