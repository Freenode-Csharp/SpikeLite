<?xml version="1.0" encoding="utf-8" ?>

<!--
  SpikeLite C# IRC Bot
  Copyright (c) 2008 FreeNode ##Csharp Community

  This source is licensed under the terms of the MIT license. Please see the 
  distributed license.txt for details.
-->

<!--
  These are the beans defined for our modules. These are later referenced in our beans.xml within our
  Module Manager bean, so if you're going to override this file by adding or removing a bean, make 
  sure to modify the manager bean as well.
-->

<objects xmlns="http://www.springframework.net">
  
  <!-- Set up some modules that can be prototyped for domain-specific searching. -->
  <object id="DefaultSearchModule" abstract="true" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search" singleton="false">
    <property name="SearchProvider" ref="LiveSearchProvider"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>
	
  <object id="GoogleAjaxSearchModule" abstract="true" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search" singleton="false">
    <property name="SearchProvider" ref="GoogleAjaxSearchProvider"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <object id="GoogleSearchModule" abstract="true" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search" singleton="false">
    <property name="SearchProvider" ref="GoogleSearchProvider"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <object id="MicrosoftBingSearchModule" abstract="true" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search" singleton="false">
	<property name="SearchProvider" ref="MicrosoftBingSearchProvider"/>
	<property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <!-- Set up our search providers -->
  <object id="GoogleAjaxSearchProvider" type="SpikeLite.Modules.Search.GoogleAjaxSearchProvider, SpikeLite.Modules.Search">
    <property name="Referrer" ref="GoogleAjaxReferrer"/>
  </object>
  <object id="GoogleSearchProvider" type="SpikeLite.Modules.Search.GoogleSearchProvider, SpikeLite.Modules.Search">
    <property name="ApiKey" ref="GoogleApiKey"/>
  </object>

  <object id="LiveSearchProvider" type="SpikeLite.Modules.Search.MicrosoftLiveSearchProvider, SpikeLite.Modules.Search">
    <property name="ApiKey" ref="LiveApiKey"/>
  </object>
	
  <object id="MicrosoftBingSearchProvider" type="SpikeLite.Modules.Search.MicrosoftBingSearchProvider, SpikeLite.Modules.Search">
    <property name="ApiKey" ref="BingApiKey"/>
  </object>

  <!-- Default search-based modules. -->
  <object id="GoogleAjaxModule" parent="GoogleAjaxSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
	<property name="Name" value="GoogleAjax"/>
	<property name="Description" value="Search Google AJAX API"/>
	<property name="Instructions" value="~googleajax [search terms]"/>
	<property name="SearchTrigger" value="~googleajax"/>
  </object>
	
  <object id="GoogleModule" parent="GoogleSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Google"/>
    <property name="Description" value="Search Google SOAP API"/>
    <property name="Instructions" value="~google [search terms]"/>
    <property name="SearchTrigger" value="~google"/>
  </object>

  <object id="LiveModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Live"/>
    <property name="Description" value="Search Microsoft Live"/>
    <property name="Instructions" value="~live [search terms]"/>
    <property name="SearchTrigger" value="~live"/>
  </object>
	
  <object id="BingModule" parent="MicrosoftBingSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="BING"/>
    <property name="Description" value="Search Microsoft BING"/>
    <property name="Instructions" value="~bing [search terms]"/>
    <property name="SearchTrigger" value="~bing"/>
  </object>

  <object id="pInvokeModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="pInvoke"/>
    <property name="Description" value="Search pInvoke.Net"/>
    <property name="Instructions" value="~pinvoke [search terms]"/>
    <property name="SearchUrl" value="pinvoke.net"/>
    <property name="SearchTrigger" value="~pinvoke"/>
  </object>

  <object id="MSDNModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="MSDN"/>
    <property name="Description" value="Search MSDN"/>
    <property name="Instructions" value="~msdn [search terms]"/>
    <property name="SearchUrl" value="msdn.microsoft.com"/>
    <property name="SearchTrigger" value="~msdn"/>
  </object>

  <object id="PatternsModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Pattern"/>
    <property name="Description" value="Search DoFactory.com/Patterns/"/>
    <property name="Instructions" value="~pattern [search terms]"/>
    <property name="SearchUrl" value="www.dofactory.com/Patterns/"/>
    <property name="SearchTrigger" value="~pattern"/>
  </object>

  <object id="MSConnectModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="MSConnect"/>
    <property name="Description" value="Search Microsoft Connect"/>
    <property name="Instructions" value="~msconnect [search terms]"/>
    <property name="SearchUrl" value="connect.microsoft.com"/>
    <property name="SearchTrigger" value="~connect"/>
  </object>

  <object id="CodeplexModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Codeplex"/>
    <property name="Description" value="Search Codeplex"/>
    <property name="Instructions" value="~codeplex [search terms]"/>
    <property name="SearchUrl" value="www.codeplex.com"/>
    <property name="SearchTrigger" value="~codeplex"/>
  </object>
  
  <object id="xkcdModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="xkcd"/>
    <property name="Description" value="Search the XKCD comic"/>
    <property name="Instructions" value="~xkcd [search terms]"/>
    <property name="SearchUrl" value="xkcd.com/"/>
    <property name="SearchTrigger" value="~xkcd"/>
  </object>
  
  <object id="MDocModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="MDoc"/>
    <property name="Description" value="Search MonoDoc"/>
    <property name="Instructions" value="~mdoc [search terms]"/>
    <property name="SearchUrl" value="www.go-mono.com/docs"/>
    <property name="SearchTrigger" value="~mdoc"/>
  </object>
  
  <object id="CodeProjectModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="CodeProject"/>
    <property name="Description" value="Search CodeProject"/>
    <property name="Instructions" value="~codeproject [search terms]"/>
    <property name="SearchUrl" value="codeproject.com"/>
    <property name="SearchTrigger" value="~codeproject"/>
  </object>
  
  <object id="DADSModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="DADS"/>
    <property name="Description" value="Search Dictionary of Algorithms and Data Structures at NIST"/>
    <property name="Instructions" value="~dads [search terms]"/>
    <property name="SearchUrl" value="www.nist.gov/dads/HTML"/>
    <property name="SearchTrigger" value="~dads"/>
  </object>
  
  <object id="RefactoringModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Refactoring"/>
    <property name="Description" value="Search Refactoring.com"/>
    <property name="Instructions" value="~refactoring [search terms]"/>
    <property name="SearchUrl" value="www.refactoring.com/catalog/"/>
    <property name="SearchTrigger" value="~refactoring"/>
  </object>
  
  <object id="ConnectionStringsModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Connection Strings"/>
    <property name="Description" value="Search ConnectionString.com"/>
    <property name="Instructions" value="~connectionstring [search terms]"/>
    <property name="SearchUrl" value="www.connectionstrings.com"/>
    <property name="SearchTrigger" value="~connectionstring"/>
  </object>
  
  <object id="WikipediaModule" parent="DefaultSearchModule" type="SpikeLite.Modules.Search.SearchModulePrototype, SpikeLite.Modules.Search">
    <property name="Name" value="Wikipedia"/>
    <property name="Description" value="Search Wikipedia"/>
    <property name="Instructions" value="~wikipedia [search terms]"/>
    <property name="SearchUrl" value="en.wikipedia.org"/>
    <property name="SearchTrigger" value="~wikipedia"/>
  </object>

  <!-- Infrastructure modules. -->
  <object id="AboutModule" type="SpikeLite.Modules.About.AboutModule, SpikeLite.Modules.About">
    <property name="Name" value="About"/>
    <property name="Description" value="Provides information about the bot."/>
    <property name="Instructions" value="Usage Syntax: ~about"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>
  
  <object id="HelpModule" type="SpikeLite.Modules.Help.HelpModule, SpikeLite.Modules.Help">
    <property name="Name" value="Help"/>
    <property name="Description" value="Provides help for the set of modules currently loaded."/>
    <property name="Instructions" value="Usage Syntax: ~help [module name]"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>
  
  <object id="PuppetModule" type="SpikeLite.Modules.Puppet.PuppetModule, SpikeLite.Modules.Puppet">
    <property name="Name" value="Puppet"/>
    <property name="Description" value="Not documented."/>
    <property name="Instructions" value="Not documented."/>
    <property name="RequiredAccessLevel" value="Root"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>
  
  <object id="TellModule" type="SpikeLite.Modules.Tell.TellModule, SpikeLite.Modules.Tell">
    <property name="Name" value="Tell"/>
    <property name="Description" value="Tell allows you to direct a response from a speicifed command at a specified user."/>
    <property name="Instructions" value="Usage Syntax: '~tell [NickName] [Command] [CommandArgs]' i.e. '~tell SomeUser google stuff'"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <!-- Modules that wrap thinly veiled webservice calls. -->
  <object id="GeoipModule" type="SpikeLite.Modules.GeoIP.GeoIpLookupModule, SpikeLite.Modules.GeoIP">
    <property name="Name" value="Geoip"/>
    <property name="Description" value="Resolve the country of a given IP."/>
    <property name="Instructions" value="Usage Syntax: ~geoip [quad dotted IP]"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <!-- Database-backed modules.  -->
  <object id="KarmaModule" type="SpikeLite.Modules.Karma.KarmaModule, SpikeLite.Modules.Karma">
    <property name="Name" value="Karma"/>
    <property name="Description" value="Stores users' Karma"/>
    <property name="Instructions" value="~karma [NickName]++ to increment a users karma. ~karma [NickName]-- to decrement a users karma. ~karma [NickName] to query a user's karma."/>
    <property name="KarmaDao" ref="KarmaDao"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <!-- Static fact modules. -->
  <object id="SayModulePrototype" type="SpikeLite.Modules.Say.SayModule, SpikeLite.Modules.Say" abstract="true" singleton="false">
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>
  
  <object id="WikiLinkModule" type="SpikeLite.Modules.Say.SayModule, SpikeLite.Modules.Say" parent="SayModulePrototype">
    <property name="Name" value="wiki"/>
    <property name="Description" value="Returns the link to the community wiki."/>
    <property name="Instructions" value="~wiki"/>
    <property name="Phrase" value="http://www.freenode-csharp.net/wiki/"/>
  </object>
  
  <object id="ConnectLinkModule" type="SpikeLite.Modules.Say.SayModule, SpikeLite.Modules.Say" parent="SayModulePrototype">
    <property name="Name" value="connect"/>
    <property name="Description" value="Returns the link to microsoft connect."/>
    <property name="Instructions" value="~connect"/>
    <property name="Phrase" value="http://connect.microsoft.com/"/>
  </object>

  <object id="ForumLinkModule" type="SpikeLite.Modules.Say.SayModule, SpikeLite.Modules.Say" parent="SayModulePrototype">
    <property name="Name" value="forum"/>
    <property name="Description" value="Returns the link to the microsoft forums."/>
    <property name="Instructions" value="~forum"/>
    <property name="Phrase" value="http://forums.microsoft.com/"/>
  </object>

  <object id="KhaanModule" type="SpikeLite.Modules.Say.SayModule, SpikeLite.Modules.Say" parent="SayModulePrototype">
    <property name="Name" value="khan"/>
    <property name="Description" value="Does the Shatner."/>
    <property name="Instructions" value="~khan"/>
    <property name="Phrase" value="KHAAAAAAAN"/>
  </object>
  
  <!-- Administrative modules -->
  
  <object id="ShutdownModule" type="SpikeLite.Modules.Admin.ShutdownModule, SpikeLite.Modules.Admin">
    <property name="Name" value="Shutdown"/>
    <property name="Description" value="Shuts down the bot with an optional quit message."/>
    <property name="Instructions" value="Usage Syntax: ~shutdown [message]"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <object id="UserManagementModule" type="SpikeLite.Modules.Admin.UserManagementModule, SpikeLite.Modules.Admin">
    <property name="Name" value="Users"/>
    <property name="Description" value="Provides rudimentary user management."/>
    <property name="Instructions" value="Usage Syntax: ~users (add [hostmask] ['admin' | 'user']) (del [hostmask]) ([list])"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
    <property name="AuthenticationManager" ref="IrcAuthenticationModule"/>
  </object>

  <object id="LoggingModule" type="SpikeLite.Modules.Admin.LoggingModule, SpikeLite.Modules.Admin">
    <property name="Name" value="Logging"/>
    <property name="Description" value="Toggles the Log4Net logging level."/>
    <property name="Instructions" value="Usage Syntax: ~logging [TRACE | DEBUG | INFO | WARN]"/>
    <property name="ModuleManagementContainer" ref="ModuleManager"/>
  </object>

  <!-- This is our default list of modules to load (the entire set). Please override this in the beans-overrides if you wish a different set to be loaded. -->
  <object id="ModuleList" type="FrontEnd_Console.Spring.ModuleList, FrontEnd_Console">
    <constructor-arg index="0">
      <list element-type="SpikeLite.Modules.IModule, SpikeLite">
		    <ref object="GoogleAjaxModule"/>
        <ref object="GoogleModule"/>
        <ref object="LiveModule"/>
		    <ref object="BingModule"/>
        <ref object="AboutModule"/> 
        <ref object="WikiLinkModule"/>
        <ref object="GeoipModule"/> 
        <ref object="HelpModule"/>
        <ref object="KarmaModule"/> 
        <ref object="ConnectLinkModule"/> 
        <ref object="ForumLinkModule"/>
        <ref object="PuppetModule"/> 
        <ref object="pInvokeModule"/>
        <ref object="MSDNModule"/>
        <ref object="PatternsModule"/>
        <ref object="MSConnectModule"/>
        <ref object="CodeplexModule"/>
        <ref object="xkcdModule"/>
        <ref object="MDocModule"/>
        <ref object="CodeProjectModule"/>
        <ref object="DADSModule"/>
        <ref object="RefactoringModule"/>
        <ref object="ConnectionStringsModule"/>
        <ref object="WikipediaModule"/>
        <ref object="KhaanModule"/>
        <ref object="TellModule"/>
        <ref object="ShutdownModule"/>
        <ref object="UserManagementModule"/>
        <ref object="LoggingModule"/>
      </list>
    </constructor-arg>
  </object>

  <!-- Our Google and MS Live API keys. Please define these in the beans-overrides.xml. -->
  <object name="GoogleAjaxReferrer" type="System.Uri">
	<constructor-arg index="0" value="${referrers.googleajax}"/>
  </object>
	
  <object name="GoogleApiKey" type="String">
    <constructor-arg index="0" value="${apikeys.google}"/>
  </object>

  <object name="LiveApiKey" type="String">
    <constructor-arg index="0" value="${apikeys.live}"/>
  </object>
	
  <object name="BingApiKey" type="String">
    <constructor-arg index="0" value="${apikeys.bing}"/>
  </object>
</objects>